<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>汪洋中的小書僮</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1>人生幾何</h1>

        <!-- 標籤切換區 -->
        <nav class="tabs">
            <button class="tab active" data-tab="1"><i class="fa-solid fa-square-parking"></i> 軍車停放</button>
            <button class="tab" data-tab="2"><i class="fa-solid fa-mobile-screen-button"></i> MDM專區</button>
            <button class="tab" data-tab="3"><i class="fa-solid fa-car"></i> 車單計算</button>
            <button class="tab" data-tab="4"><i class="fa-solid fa-calculator"></i> 考核計算</button>
            <button class="tab" data-tab="5"><i class="fas fa-tshirt"></i> 服裝供售</button>
            <button class="tab" data-tab="6"><i class="fa-solid fa-book"></i> 線上測驗</button>
            <button class="tab" data-tab="7"><i class="fas fa-tools"></i> 後勤平台</button>
        </nav>

        <!-- 標籤內容區 -->
        <div class="tab-contents">
            <!-- Tab 1 -->
            <div class="tab-content active" id="tab-1">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/CarSign.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 2 -->
            <div class="tab-content" id="tab-2">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/MDM.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 3 -->
            <div class="tab-content" id="tab-3">
                <div class="content-wrapper">
                    <iframe src="https://formfacade.com/public/109860427198153158965/all/form/1FAIpQLSfAwGVrd_dU6Hu9j5B-lzi0FCgmtqOIzPKAkd4j6I8xpsMDPg" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 4 -->
            <div class="tab-content" id="tab-4">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/AssessmentCalc.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 5 -->
            <div class="tab-content" id="tab-5">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/ClothesAPP.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 6 -->
            <div class="tab-content" id="tab-6">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/OnLiExam.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>

            <!-- Tab 7 -->
            <div class="tab-content" id="tab-7">
                <div class="content-wrapper">
                    <iframe src="https://a0977050093.github.io/ACEITC_TongZi_2C/LogiFour.html" class="dynamic-iframe"></iframe>
                    <button class="expand-button"><i class="fas fa-expand"></i> 全螢幕觀看</button>
                </div>
            </div>
        </div>

        <!-- 其他按鈕 -->
        <button class="button" onclick="window.location.href='https://line.me/ti/p/qrm9ekbVN7'">與我聯絡</button>
        <button id="darkModeToggle" class="dark-mode-button"><i class="fas fa-moon"></i> 護瞳</button>
    </div>

    <!-- 全螢幕彈出視窗 -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close-button">×</span>
            <iframe id="modal-iframe" src="" frameborder="0"></iframe>
        </div>
    </div>

    <!-- 側邊欄 -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-content">
            <h4>使用專區</h4>
            <div class="collapsible-header" role="button" aria-expanded="false" aria-controls="usage1">功能連結</div>
            <div class="collapsible-content" id="usage1">
                <a href="" target="_blank">還沒想到</a>
                <a href="" target="_blank">還在建置</a>
            </div>

            <h4>回報相關</h4>
            <div class="collapsible-header" role="button" aria-expanded="false" aria-controls="report1">回報連結</div>
            <div class="collapsible-content" id="report1">
                <a href="https://forms.gle/DFnzcuQ464wsU5ET7" target="_blank">二連寶庫</a>
                <a href="https://forms.gle/CX8k7ZmxwRmm2DVs9" target="_blank">汽車編號</a>
                <a href="https://forms.gle/49EGHik2UA3GjbkA6" target="_blank">紅橙黃綠</a>
                <a href="https://forms.gle/h3NsTx8edDfxrmhy7" target="_blank">本職準則</a>
                <a href="https://a0977050093.github.io/ACEITC_TongZi_2C/EHeartRE.html" target="_blank">e心守護</a>
                <a href="https://script.google.com/macros/s/AKfycbwtMTp4pzdWluKvvktQ__vYmLaErK6reDZcowHLBP7Hn66QbviBfwUUcFpXY1R-p1uc/exec" target="_blank">服裝點數</a>
            </div>

            <h4>平面道路小幫手（避開收費、避開高速）</h4>
            <div class="collapsible-header" role="button" aria-expanded="false" aria-controls="map1">地圖導航</div>
            <div class="collapsible-content" id="map1">
                <p><a href="https://maps.app.goo.gl/4M2wKLXietM9XPio9?g_st=ic" target="_blank" rel="noopener" aria-label="從虎嶺到高山頂營區的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️高山頂營區</a></p>
                <p><a href="https://maps.app.goo.gl/Roptc2BZna1LK5X7A?g_st=ic" target="_blank" rel="noopener" aria-label="從虎嶺到凌雲岡靶場的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️凌雲岡靶場</a></p>
                <p><a href="https://maps.app.goo.gl/pyRumKjQre7MdT9W8?g_st=il" target="_blank" rel="noopener" aria-label="從虎嶺到關西營區的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️關西營區</a></p>
                <p><a href="https://maps.app.goo.gl/7VzAu6qAK9hUHZia8?g_st=ac" target="_blank" rel="noopener" aria-label="從虎嶺到龍勝營區的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️龍勝營區</a></p>
                <p><a href="https://maps.app.goo.gl/txpF3XvFc2ZxJSH76?g_st=ac" target="_blank" rel="noopener" aria-label="從虎嶺到湖南靶場的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️湖南靶場</a></p>
                <p><a href="https://maps.app.goo.gl/68taVRDmVn8SzQig8?g_st=al" target="_blank" rel="noopener" aria-label="從虎嶺到雙連坡靶場的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️雙連坡靶場</a></p>
                <p><a href="https://maps.app.goo.gl/YCf8LgPy3cJFrwgR8?g_st=ic" target="_blank" rel="noopener" aria-label="從虎嶺到老窩山的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️老窩山</a></p>
                <p><a href="https://maps.app.goo.gl/dDXnTCHD6tLNJD936?g_st=il" target="_blank" rel="noopener" aria-label="從虎嶺到長欣紙廠的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️長欣紙廠</a></p>
                <p><a href="https://maps.app.goo.gl/sFnwUTh7a5ezNp216" target="_blank" rel="noopener" aria-label="從虎嶺到福特九和忠孝廠(衛星車)的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️福特九和忠孝廠(衛星車)</a></p>
                <p><a href="https://maps.app.goo.gl/9J7JCqGCnpsTCQer8?g_st=ic" target="_blank" rel="noopener" aria-label="從虎嶺到汽基廠的地圖導航"><i class="fas fa-map-marker-alt"></i> 虎嶺➡️汽基廠</a></p>
                <p><a href="https://maps.app.goo.gl/LjqXkev2VoiLrp2m6?g_st=ic" target="_blank" rel="noopener" aria-label="從汽基廠到虎嶺(陸區翻修)的地圖導航"><i class="fas fa-map-marker-alt"></i> 汽基廠➡️虎嶺 (陸區翻修)</a></p>
            </div>
        </div>
    </div>

    <!-- 側邊欄切換按鈕 -->
    <button class="toggle-button" id="toggleButton" aria-expanded="false" aria-controls="sidebar">珍典 <i class="fas fa-bars"></i></button>

    <script src="js/scripts.js"></script>
    <script>
        // 動態調整 iframe 高度
        window.addEventListener('message', function(event) {
            if (event.data && event.data.type === 'iframeResize') {
                const iframe = document.querySelector(`iframe[src="${event.data.url}"]`);
                if (iframe) {
                    iframe.style.height = event.data.height + 'px';
                }
            }
        });

        // 初始化時調整所有 iframe 高度
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.dynamic-iframe').forEach(iframe => {
                iframe.addEventListener('load', () => {
                    // 觸發子頁面發送高度信息
                    iframe.contentWindow.postMessage('requestHeight', '*');
                });
            });
        });
    </script>
</body>
</html>
